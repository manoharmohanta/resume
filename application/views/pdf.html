<html>
  <head>
    <meta charset="utf-8" />
    <script src="assets/vendor/pdf/pdf-lib.min.js"></script>
  </head>

  <body>
    <iframe id="pdf" style="width: 100%; height: 100%;"></iframe>
    <p></p>
  </body>

  <script>
    var name = 'Manohar Mohanta';  var designation = 'USA Counsellor';  var phone = '+91-8801005610';  
    var address = 'Hyderabad, Telanana';  var summary = 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, aliquid omnis, aspernatur beatae culpa aut velit magni tempora delectus autem a molestiae sunt laudantium minus quasi eius cumque enim alias.';  var techSkills = 'C, C++, JavaScript, Php';  
    var deceleration = 'Manohar Mohanta';  var email = 'manohar.mohanta@idp.com';   var link = 'https://idp.com';
    var education = [
      {
        joinYear: '2011',
        endYear: '2015',
        location: 'Hyderabad',
        degree: 'Bachelor of Technology',
        university: 'Jawaharlal Nehru Technological University, Hyderabad',
        summary: 'Lorem'
      }
    ];
    var job = [
      {
        joinYear: '2021',
        endYear: '2023',
        location: 'Hyderabad',
        designation: 'USA Consellor',
        organization: 'IDP Education India pvt. ltd.',
        summary: 'Lorem'
      }
    ];
    createPdf(name,designation,phone,address,summary,deceleration,education,job,techSkills,email,link);
    
    async function createPdf(name,designation,phone,address,summary,deceleration,education,job,techSkills,email,link) {
      const { PDFDocument, StandardFonts, rgb } = PDFLib;
      const svgPhone = 'M0 10.375c0 0.938 0.344 1.969 0.781 3.063s1 2.125 1.438 2.906c1.188 2.063 2.719 4.094 4.469 5.781s3.813 3.094 6.125 3.938c1.344 0.531 2.688 1.125 4.188 1.125 0.75 0 1.813-0.281 2.781-0.688 0.938-0.406 1.781-1.031 2.094-1.781 0.125-0.281 0.281-0.656 0.375-1.094 0.094-0.406 0.156-0.813 0.156-1.094 0-0.156 0-0.313-0.031-0.344-0.094-0.188-0.313-0.344-0.563-0.5-0.563-0.281-0.656-0.375-1.5-0.875-0.875-0.5-1.781-1.063-2.563-1.469-0.375-0.219-0.625-0.313-0.719-0.313-0.5 0-1.125 0.688-1.656 1.438-0.563 0.75-1.188 1.438-1.625 1.438-0.219 0-0.438-0.094-0.688-0.25s-0.5-0.281-0.656-0.375c-2.75-1.563-4.594-3.406-6.156-6.125-0.188-0.313-0.625-0.969-0.625-1.313 0-0.406 0.563-0.875 1.125-1.375 0.531-0.469 1.094-1.031 1.094-1.719 0-0.094-0.063-0.375-0.188-0.781-0.281-0.813-0.656-1.75-0.969-2.656-0.156-0.438-0.281-0.75-0.313-0.906-0.063-0.094-0.094-0.219-0.125-0.375s-0.094-0.281-0.125-0.406c-0.094-0.281-0.25-0.5-0.406-0.625-0.156-0.063-0.531-0.156-0.906-0.188-0.375 0-0.813-0.031-1-0.031-0.094 0-0.219 0-0.344 0.031h-0.406c-1 0.438-1.719 1.313-2.25 2.344-0.5 1.031-0.813 2.188-0.813 3.219z';
      const svgLink = 'M10.406 13.406l2.5-2.531c0.219-0.219 0.469-0.5 0.719-0.813 0.25-0.281 0.531-0.531 0.813-0.75 0.531-0.469 1.156-0.875 1.938-0.875 0.688 0 1.281 0.313 1.719 0.719s0.688 1 0.688 1.688c0 0.281-0.031 0.594-0.125 0.813-0.219 0.438-0.406 0.75-0.594 1-0.094 0.125-0.188 0.25-0.188 0.375 0 0.094 0 0.188 0.063 0.219 0.344 0.844 0.594 1.563 0.75 2.438 0.094 0.344 0.281 0.5 0.594 0.5 0.125 0 0.25-0.031 0.375-0.125 0.25-0.156 0.469-0.406 0.688-0.656 0.125-0.125 0.219-0.25 0.281-0.313 1.125-1.094 1.781-2.656 1.781-4.25 0-1.688-0.688-3.188-1.781-4.281-1.094-1.063-2.625-1.781-4.25-1.781s-3.188 0.656-4.281 1.813l-4.281 4.25c-1.125 1.156-1.75 2.656-1.75 4.25 0 0.469 0.188 1.438 0.5 2.344 0.313 0.875 0.719 1.656 1.25 1.656 0.281 0 0.875-0.469 1.375-1s1-1.125 1-1.344c0-0.156-0.125-0.344-0.25-0.625-0.156-0.281-0.219-0.625-0.219-1.031 0-0.625 0.25-1.25 0.688-1.688zM10.313 25.406l4.281-4.25c1.125-1.094 1.75-2.688 1.75-4.281 0-0.469-0.188-1.406-0.5-2.313-0.281-0.875-0.719-1.688-1.25-1.688-0.219 0-0.875 0.5-1.344 1.031-0.531 0.531-1.031 1.094-1.031 1.313 0 0.156 0.094 0.406 0.25 0.656 0.156 0.281 0.281 0.594 0.281 1-0.031 0.625-0.281 1.25-0.719 1.75l-2.531 2.5c-0.219 0.25-0.469 0.5-0.719 0.781l-0.781 0.781c-0.531 0.5-1.188 0.844-1.969 0.844-1.313 0-2.375-1.031-2.375-2.375 0-0.313 0.063-0.594 0.156-0.813 0.188-0.438 0.375-0.75 0.594-1 0.094-0.125 0.125-0.25 0.125-0.344 0-0.063-0.031-0.125-0.063-0.25-0.375-0.844-0.594-1.563-0.75-2.438-0.063-0.156-0.094-0.281-0.188-0.344-0.094-0.125-0.25-0.156-0.406-0.156-0.125 0-0.219 0.031-0.344 0.125-0.25 0.156-0.5 0.406-0.719 0.656-0.094 0.125-0.219 0.219-0.281 0.281-1.125 1.125-1.781 2.688-1.781 4.281 0 1.656 0.656 3.188 1.781 4.281 1.094 1.094 2.594 1.75 4.25 1.75 1.625 0 3.188-0.625 4.281-1.781z';
      const heading = 16;      const subHeading = 14;      const text = 12; 
      const headingColor = rgb(0, 43/255, 127/255);      const subHeadingColor = rgb(249/255, 107/255, 7/255);      const textColor = rgb(56/255, 67/255, 71/255); 
      const pdfDoc = await PDFLib.PDFDocument.create();
      const headingFont = await pdfDoc.embedFont(StandardFonts.HelveticaBold);
      const subHeadingFont = await pdfDoc.embedFont(StandardFonts.HelveticaBoldOblique);
      const textFont = await pdfDoc.embedFont(StandardFonts.Helvetica);
      const headingDesign = {
        size: heading,
        font: headingFont,
        color: headingColor,
      };
      const subHeadingDesign = {
        size: subHeading,
        font: subHeadingFont,
        color: subHeadingColor,
      };
      const textDesign = {
        size: text,
        maxWidth: 550,
        lineHeight: heading,
        font: textFont,
        color: textColor,
      };
      const page = pdfDoc.addPage([590, 840]);
      // page.drawRectangle({
      //   x: 0,
      //   y: 0,
      //   width: 590/2,
      //   height: 840,
      //   backgroundColor: rgb(100/255, 43/255, 127/255),
      // });
      page.moveTo(20, 820);
      page.drawText(name, headingDesign);
      page.moveTo(20, 820-heading);
      page.drawText(designation, subHeadingDesign);
      if(phone){
        page.moveTo(20, 820-heading-10);
        page.drawSvgPath(svgPhone,{
          scale:0.5,
          color: subHeadingColor,
        });
        page.moveTo(20+heading, 820-heading-20);
        page.drawText(phone,textDesign);
      }
      if(email){
        page.moveTo((20+heading)+183, 820-heading-20);
        page.drawText('@',subHeadingDesign);
        page.moveTo((20+heading+4)+196, 820-heading-20);
        page.drawText(email,textDesign);
      }
      if(link){
        page.moveTo((20+heading)+366, 820-heading-8);
        page.drawSvgPath(svgLink,{
          scale:0.5,
          color: subHeadingColor,
        });
        page.moveTo((20+heading+4)+376, 820-heading-20);
        page.drawText(link,textDesign);
      }

      if(summary){
        page.moveTo((20), 740);
        page.drawText('SUMMARY',headingDesign);
        page.moveTo((20), 740-heading);
        page.drawText(summary,textDesign);
      }

      if(education){
        page.moveTo((20), 640);
        page.drawText('EDUCATION',headingDesign);
        page.moveTo((20), 640-heading);
        page.drawText(education[0].joinYear.concat(' - ', education[0].endYear),subHeadingDesign);
        page.moveTo((20), (640-heading-20));
        page.drawText(education[0].location,textDesign);
      }

      const pdfDataUri = await pdfDoc.saveAsBase64({ dataUri: true });
      document.getElementById('pdf').src = pdfDataUri;
    }
  </script>
</html>